import{H as f,J as m,O as c,a,ab as g,b as p,bb as y,fa as o,hb as h,o as n}from"./chunk-FTH7ZHKT.js";var e={production:!0,companyName:"Gifs",companyName2:"App",companySlogan:"Maneja tus gifs",giphyApikey:"6yDex65cLRaviTA10b9DkngggThPtfrU",giphyUrl:"https://api.giphy.com/v1"};var s=class{static mapGiphyItemToGif(i){return{id:i.id,title:i.title,url:i.images.original.url}}static mapGiphyItemsToGifArray(i){return i.map(this.mapGiphyItemToGif)}};var d=()=>{let r=localStorage.getItem("gifs")??"{}";return JSON.parse(r)},G=class r{http=c(h);trendingGifs=o([]);trendingGifsLoading=o(!0);searchHistory=o(d());searchHistoryKeys=g(()=>Object.keys(this.searchHistory()));constructor(){this.loadTrendingGifs()}saveGifToLocalStorage=y(()=>{let i=JSON.stringify(this.searchHistory());localStorage.setItem("gifs",i)});loadTrendingGifs(){this.http.get(`${e.giphyUrl}/gifs/trending`,{params:{api_key:e.giphyApikey,limit:20}}).subscribe(i=>{let t=s.mapGiphyItemsToGifArray(i.data);this.trendingGifs.set(t),this.trendingGifsLoading.set(!1),console.log({gifs:t})})}searchGifs(i){return this.http.get(`${e.giphyUrl}/gifs/search`,{params:{api_key:e.giphyApikey,q:i,limit:20}}).pipe(n(({data:t})=>s.mapGiphyItemsToGifArray(t)),f(t=>{this.searchHistory.update(l=>p(a({},l),{[i.toLowerCase()]:t}))}))}getHistoryGifs(i){return this.searchHistory()[i]??[]}static \u0275fac=function(t){return new(t||r)};static \u0275prov=m({token:r,factory:r.\u0275fac,providedIn:"root"})};export{e as a,G as b};
